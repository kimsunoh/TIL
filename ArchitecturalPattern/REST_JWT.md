# JWT(JSON Web Token)
- 두 개체에서 JSON 객체를 사용하여 self-contained한 방식으로 정보를 안정성 있게 전달하는 방식 
    - 웹표준(RFC 7519)
- Claim 기반 방식을 사용함
    - 유저의 상태(고유 번호, 권한, 토큰 만료 일자 등)를 JSON 포맷으로 구성하고, 이 텍스트를 다시 특정 알고리즘에 따라 문자열로 인코딩한 토큰을 사용하는 방식
    - 토큰 자체가 정보를 가지고 있는 방
- 서버는 토큰의 위변조를 방지하기 위해서, 토큰의 뒷부분에 signature 문자열을 붙여서 토큰을 생성한 
    - 클라이언트가 본인의 상태를 서버에게 전달해주는 방식이여서, 토큰 위변조 문제가 발생할 수 있다
    - 서버는 클라이언트에게 상태 관리를 위임하면서 동시에 위변조 방지를 할 수 있다

## 방식
1. (client): 사용자 인증과 토큰 생성을 요청한다
2. (server): 계정정보를 검증 한 후 토큰을 생성하고 유저에게 signed 토큰을 발급한다
    - 토큰에 연관되는 사용자 정보나 권한 등을 토큰 자체에 넣어서 저장한다
    - 토큰에 관한 정보를 별도로 저장하지 않는다
3. (client): 응답받은 토큰을 저장해두고, 서버에 요청할 때마다 토큰을 함께 전달한다 
    - 토큰과 파라메터 정보를 같이 보낸다
4. (server): 토큰을 겁증하고, 요청에 응답한다

## 특징
- 서비스를 호출한 사용자에 대한 추가 정보는 이미 토큰안에 다 들어가 있다
- 계정서버는 생성된 토큰을 별도로 서버에서 유지할 필요가 없다
- API 서버는 권한을 검증하기 위해서 토큰을 가지고 사용자 정보를 별도로 조회할 필요가 없다

## 토큰의 장점
- stateless 이며 scalability가 있다
    - 클라이언트 사이드에 토큰을 저장하기 때문에, 완전히 stateless 하다
    - 서버 확장에 용이하다
- 보안성
    - 쿠키를 사용함으로 인해 발생하는 취약점이 사라진다
    - 쿠키보다는 보안이 강화됬다는 것이므로, 토큰을 처리할 때에도 취약점엔 대비를 해야한다
- Extensibility
    - 로그인 정보가 사용되는 분야를 확장 할 수 있다
    - 다른 서비스에서도 권한을 공유하기가 쉽다

---
## 참고링크
- [okky - REST 아키텍처와 JWT, OAuth, 그리고 SPA](https://okky.kr/article/409195)
- [조대협의 블로그 - REST JWT(JSON Web Token)소개 - #1 개념 소개](https://bcho.tistory.com/999)
- [velopert.LOG - [JWT]토큰(Token) 기반 인증에 대한 소개](https://velopert.com/2350)
- [DjangoCon 2014 - JSON Web Tokens slide](https://speakerdeck.com/jpadilla/djangocon-json-web-tokens)