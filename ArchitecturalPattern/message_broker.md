# Message broker
- 메세지를 보낸 사람과 받는 사람의 공식 메세징 프로토콜로 변환하는 중간 컴퓨터 프로그램 모듈
- 메세지를 교환하여 통신하는 소프트웨어 응용 프로그램
- 메세지 유효성 검사, 변환 및 라우팅을 위한 아키텍처 패턴

# MOM ( Message Oriented Middleware )
- 분산 시스템 간 메세지를 주고 받는 기능을 지원하는 소프트웨어나 하드웨어 인프라
- 응용 소프트웨어 간의 데이터 통신을 위한 소프트웨어
- 메시지 큐 시스템, 브로드캐스트 형식 시스템, 멀티 캐스트 형식 시스템 기반이 있다

## AMQP ( Advanced Message Queueing Protocol )
- 메세지 지향 미들웨어를 위한 프로토콜

## Message Queue : MQ
- MOM을 구현한 시스템

## 장점
- Asynchronous ( 비동기 )
	- Queue에 넣기 때문에 나중에 처리 할 수 있다
- Decoupling ( 비동조 )
	- 애플리케이션과 분리 할 수 있다
- Resilience ( 탄력성 )
	- 일부가 실패해도 전체에 영향을 받지 않는다
- Redundaancy ( 과잉 )
	- 실패할 경우 재실행 가능하다
- Guarantees ( 보증 )
	- 작업이 처리된 걸 확인 할 수 있다
- Scalable ( 확장성 )
	- 다수의 프로세스들이 큐에 메세지를 보낼 수 있다

## 단점
- 메시지 지향 미들웨어의 주요 단점은 아키텍처에 외부 구성 요소인 메시지 전송 에이전트를 필요로 한다
- 새로운 요소를 추가하면 시스템 성능이 저하되고, 신뢰성도 떨어진다

## 사용하는 곳 & 이유
- 대용량 데이터를 처리하기 위한 배치 작업, 채팅 서비스, 비동기 데이터를 처리할 때 사용한다
	- 메세지 기반 통신은 비동기 처리를 기본으로 한다
- 분산되어 있던 데이터 처리를 한 곳으로 집중하면서, 메세지 브로커를 두어서 필요한 프로그램에 작업을 분산 시키는 방법을 하고 싶을때 사용한다

### 메세지 큐 사용처 특징
- 다른 곳의 API로 부터 데이터 송수신 가능
- 다양한 애플리케이션에서 비 동기 통신을 할 수 있다
- 많은 양의 프로세스들을 처리 할 수 있다

### JMS vs AMQP
| | JMS | AMQP |
| ---------- | ---------- | ---------- |
| 지향하는 표준 | JAVA 지원 표준 API | ISO 응용 계층 MOM 표준 | 
| 통신 | - 다른 자바 애플리케이션들끼리 통신이 가능 <br/>- MOM의 통신은 불가능,AMQP를 지원하지 않음 | - AMQP는 프로토콜만 맞다면 다른 AMQP를 사용한 애플리케이션 끼리 통신이 가능<br/>- 같은 라인인 SMTP하고도 가능 | 

---
## 참고링크
- [Message broker](https://en.wikipedia.org/wiki/Message_broker)
- [메세징 서버](https://docs.oracle.com/cd/E19435-01/819-2222/message_server.html)
- [메세지 지향 미들웨어](https://ko.wikipedia.org/wiki/메세지_지향_미들웨어)
- ['메세지 큐'란 무엇인가?](http://zzong.net/post/3)