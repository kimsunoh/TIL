# Continuous Integration (이하 CI, 지속적인 통합)

- 각각의 팀멤버들로부터 submit된 소스코드를 정기적으로 통합하는 것을 CI
- 소스코드 자동화 빌드를 지원 해주는 프로그램을 CI tool이라 함

## CI 가 나타난 이유

- 소스코드 관리의 중요성 대두
    - 소프트웨어가 크고 복잡해지면서 개발의 분업과 협업이 필수가 됨
    - 팀 멤버 구성원들 각자가 개발한 소스코드를 SCM(source code management)에 submit 함
- 팀의 구성원들이 작업한 내용을 정기적으로 통합하고 관리하는 것이 중요해짐

## 소스관리/빌드/배포

- CI는 소스관리/빌드/배포의 활동을 지원하는 기법
    - 소프트웨어 개발에서 유지보수로 연결되는 주요 지점
    - 위의 활동들에서 확실한 절차와 방법을 필요로 함
    - 소프트웨어 개발에 있어서 위험을 줄이는 방식으로 사용되고 있음
- 소스코드를 검증할 수 있는 방법이 필요함

> 일일 빌드를 하지 않는다면, 그 프로젝트는 죽은 것과 같다
- Jim MacCarthy

- 자동화된 일일 빌드 원칙
    - 모든 소스 코드가 살아있고(현재 실행되고) 어느 누구든 현재의 소스를 접근할 수 있는 단일 지점을 유지할 것
    - 빌드 프로세스를 자동화시켜서 어느 누구든 소스로부터 시스템을 빌드하는 단일 명령어를 사용할 수 있게 할 것
    - 테스팅을 자동화시켜서 단일 명령어를 통해서 언제든지 시스템에 대한 건전한 테스트 수트를 실핼할 수 있게 할 것
    - 누구나 현재 실행 파일을 얻으면 지금까지 최고의 실행파일을 얻었다는 확신을 하게 만들 것

협업을 하는 개발자들은 하루에 적어도 한번이상 SCM에서 최신 코드를 내려받고, 자신이 작업한 내용을 SCM에 저장해서 소스의 무결성을 유지한다

## CI 적용

- 형상관리 항목에 대한 선정과 형상관리 구성 방식 결정
- 단위테스트/통합테스트 방식
- 비기능 속성(품질 속성) 관리 방식
- 빌드/배포 자동화 방식

자동화된 일일 빌드 원칙은 CI 도구들이 지원하고 있지만, 단순히 SCM, CI tools, Test framework 를 적용했다는 사실만 가지고는 CI를 적용한다고 말할 수 없습니다

## CI tools process

### **개발자**

- 아침에 출근해서 소스 관리 시스템으로부터 Checkout 또는 Update 받는다
- 코드를 갖고 개발을 수행하고 테스트를 작성한다
- 로컬에서 빌드 및 테스트 진행한다
- 테스트 과정에서 커버리지 분석과 Code Inspection 을 수행한다.
- 완료된 코드를 소스 관리 시스템에 저장

### **CI Tools**

- 체크아웃
    - 정해진 시간이나 소스 커밋 시점에 빌드를 시작. 먼저 최신 소스코드를 체크아웃 혹은 업데이트 받는다
- 컴파일
    - 체크아웃 코드에 내장되어 있는 빌드 스크립트를 가동하여 컴파일 수행
- 배포
    - 컴파일이 완료된 코드를 테스트 서버에 배포.
- 테스트 수행
    - 체크아웃 코드 내의 테스트 코드를 수행하고 리포팅 한다.
- 커버리지 분석
    - 테스트 과정 중 코드 커버리지를 수행.
- 코드 인스펙션
- 소스 태깅
    - 1~6 과정을 정상적으로 수행하면, 현재 소스 관리 시스템에 저장된 버전에 tagging 을 하여 저장한다.
- Reverse ( optional )
    - 빌드나 테스트가 실패했을 때 이전에 성공한 빌드 버전으로 소스 롤백.
- 결과 분석
    - 빌드와 테스트 완료 후 테스트 결과서를 통해 문제가 있는 테스트를 개발자가 수정하도록 한다.

---

### 참고링크

- [http://www.nextree.co.kr/p10799/](http://www.nextree.co.kr/p10799/)
- [https://aroundck.tistory.com/m/2723](https://aroundck.tistory.com/m/2723)
