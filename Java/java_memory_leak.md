# Memory Leak
- GC에 의해 메모리가 자동관리 된다고 하지만, 발생할 수 있음
- 실제 사용하지 않는 객체의 Reference를 프로그램에서 잡고 있을 경우 발생
	- GC 처리되지도 않고, 프로그램 내에서도 접근하여 사용될 수 없음
	- 쓰레기로 주소공간을 점유하게 됨
		- 해당 주소공간이 다른 객체에 할당 될 수 없게 됨
	- 즉, 현재 사용중인 객체로 인식되지만, 실제 사용되지 않는 객체가 있을 경우
- 누수가 지속될 경우 메모리가 증가됨
	- 심각할 경우, OOM이 발생해 프로그램이 종료될 수 있음

## Java의 Object
- 모든 객체는 현재 사용중인 객체, 사용되고 있지 않는 객체로 나뉨

### 현재 사용중인 객체
- 루트 참조들로부터 reachable한 객체
	- 직간접적으로 참조가 되는 모든 객체들
- GC 알고리즘에서는 현재 생성된 객체 중 이후에 참조되어 사용 될 가능성이 있는 모든 객체를 의미
	- 실행중인 Thread별로 모든 메소드 내에 선언된 지역변수와 매개변수에 의해 참조되는 객체, 그 객체로부터 직간접적으로 참조되는 모든 객체는 참조되어 사용될 가능성이 있음

#### 루트 참조란?
- static 변수에 의한 객체 참조
- 모든 현재 자바 스래드 스택 내의 지역변수, 매개변수에 의한 객체 참조
- JNI 프로그램에 의해 동적으로 만들어지고 제거되는 JNI global 객체 참조

### GC가 동작되지 못하는 경우
- JAVA에서는 사용되는(사용된 가능성이 있는) 메모리로 판단되었지만, 쓰레기 객체인 경우
	- GC는 가능성을 보는 것, 논리적으로 정확하게 사용되고 있음은 파악 불가 
- 예시  ~~억지스럽지만 예시로 인용한다. 이후 좋은 예시가 있으면 변경이 필요 ~~
	- JNI 네이티브 C 함수 내에서 JAVA객체를 생성하고, 참조를 int 값으로 변환시켜 C 함수 내의 지역변수, 매개변수, 전역 변수로 참조가능
		- 참조 하더라도 이는 자바 가상 머신의 영역을 벗어나는 것이므로 자바 가상 머신의 GC기능이 동작하지 못함

---
## 참고링크
* [[OS]메모리 관점에서 본 쓰레트(thread)](https://mooneegee.blogspot.kr/2015/01/os-thread.html)
* [자바 메모리 누수의 원인과 처방](http://blog.naver.com/deogtae/20014163212)
* [PermGen 메모리 누수란? - What is a PermGen leak?](http://wiki.sys4u.co.kr/pages/viewpage.action?pageId=7766559)